services:
  dashi:
    build: .
    container_name: dashi
    ports:
      - "8080:8080"
    environment:
      APP_ADDR: ":8080"
      APP_DATA_DIR: "/data"
      APP_RETENTION_DAYS: "14"
      DOCKER_SOCKET: "${DOCKER_SOCKET:-/var/run/docker.sock}"
      TELEGRAM_BOT_TOKEN: ""
      TELEGRAM_CHAT_ID: ""
    group_add:
      - "${DOCKER_GID:-0}"
    volumes:
      - ${DOCKER_SOCKET:-/var/run/docker.sock}:${DOCKER_SOCKET:-/var/run/docker.sock}
      - ./data:/data
    restart: unless-stopped
